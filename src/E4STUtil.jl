module E4STConversions

export usd_cr

const _year2gdp = Dict(
    1929=>9.418,
    1930=>9.073,
    1931=>8.141,
    1932=>7.188,
    1933=>6.989,
    1934=>7.371,
    1935=>7.523,
    1936=>7.615,
    1937=>7.941,
    1938=>7.714,
    1939=>7.639,
    1940=>7.731,
    1941=>8.253,
    1942=>8.909,
    1943=>9.316,
    1944=>9.538,
    1945=>9.785,
    1946=>11.047,
    1947=>12.259,
    1948=>12.947,
    1949=>12.926,
    1950=>13.087,
    1951=>14.014,
    1952=>14.256,
    1953=>14.429,
    1954=>14.563,
    1955=>14.809,
    1956=>15.313,
    1957=>15.821,
    1958=>16.181,
    1959=>16.403,
    1960=>16.627,
    1961=>16.804,
    1962=>17.009,
    1963=>17.204,
    1964=>17.466,
    1965=>17.786,
    1966=>18.284,
    1967=>18.815,
    1968=>19.616,
    1969=>20.578,
    1970=>21.663,
    1971=>22.762,
    1972=>23.746,
    1973=>25.047,
    1974=>27.301,
    1975=>29.829,
    1976=>31.471,
    1977=>33.426,
    1978=>35.778,
    1979=>38.746,
    1980=>42.246,
    1981=>46.243,
    1982=>49.1,
    1983=>51.023,
    1984=>52.864,
    1985=>54.536,
    1986=>55.634,
    1987=>57.01,
    1988=>59.021,
    1989=>61.335,
    1990=>63.631,
    1991=>65.783,
    1992=>67.282,
    1993=>68.877,
    1994=>70.347,
    1995=>71.823,
    1996=>73.138,
    1997=>74.399,
    1998=>75.236,
    1999=>76.296,
    2000=>78.025,
    2001=>79.783,
    2002=>81.026,
    2003=>82.625,
    2004=>84.843,
    2005=>87.504,
    2006=>90.204,
    2007=>92.642,
    2008=>94.419,
    2009=>95.024,
    2010=>96.166,
    2011=>98.164,
    2012=>100,
    2013=>101.751,
    2014=>103.654,
    2015=>104.691,
    2016=>105.74,
    2017=>107.747,
    2018=>110.321,
    2019=>112.294,
    2020=>113.648,
    2021=>118.37
)

"""
    usd_cr(y1, y2) -> r

Computes a conversion rate from USD in `y1` to USD in `y2`.

Updated with 2021 data from [bea.gov](https://apps.bea.gov/iTable/iTable.cfm?reqid=19&step=3&isuri=1&1921=survey), Table 1.1.9.
"""
function usd_cr(y1, y2)
    gdp1 = get(_year2gdp, y1) do 
        error("Year $y1 not recorded!")
    end
    gdp2 = get(_year2gdp, y2) do 
        error("Year $y2 not recorded!")
    end
    return gdp2/gdp1
end

end # module
